<nav class="bg-gradient-to-r from-gray-800 to-gray-900 fixed w-full z-20 top-0 shadow-md">
  <div class="mx-2 mr-2 px-4 py-4 flex items-center justify-between">
    <!-- Left: Logo & Search Bar -->
    <div class="flex items-center space-x-4 w-full">
      <div class="text-2xl font-bold">{{ site_name | default("My Dashboard") }}</div>
    </div>
    <div class="flex items-center space-x-4 w-full mr-40">
      <div class="hidden sm:block w-full">
        <input type="text" placeholder="Search..." class="w-full px-3 py-1 rounded bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      </div>
    </div>
    <!-- Right: Notifications, Column Buttons, User Dropdown -->
    <div class="flex items-center space-x-4 w-full">
      <!-- Notification Icon & Dropdown -->
      <div class="relative">
        <button id="notification-button" class="relative focus:outline-none">
          <span class="material-icons text-white text-2xl">notifications</span>
          <span id="notification-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full">0</span>
        </button>
        <div id="notification-menu" class="hidden absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-lg z-50">
          <div class="p-4 border-b border-gray-700">
            <h3 class="text-lg font-semibold text-gray-100">Notifications</h3>
          </div>
          <ul id="notification-list" class="max-h-60 overflow-y-auto">
            {% for notification in notifications %}
              <li class="p-2 border-b border-gray-700">{{ notification.message }}</li>
            {% else %}
              <li class="p-2 text-gray-500">No notifications</li>
            {% endfor %}
          </ul>
          <div class="p-2 text-center">
            <button id="clear-notifications" class="text-sm text-blue-400 hover:underline">Clear All</button>
          </div>
        </div>
      </div>
      <!-- Add / Remove Column Buttons -->
      <button id="add-column-btn" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded">Add Column</button>
      <button id="remove-column-btn" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded">Remove Column</button>
      <!-- User Dropdown -->
      <div class="relative">
        <button id="user-menu-button" class="flex items-center focus:outline-none">
          <img class="w-8 h-8 rounded-full mr-2" src="{{ user.avatar}}" alt="User avatar" />
          <span>{{ user.username | default('Username') }}</span>
          <span class="material-icons text-white">arrow_drop_down</span>
        </button>
        <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-40 bg-gray-800 rounded-lg shadow-lg z-50">
          <ul>
            <li>
              <a href="{{ url_for('profile') }}" class="block px-4 py-2 hover:bg-gray-700">Profile</a>
            </li>
            <li>
              <a href="{{ url_for('settings') }}" class="block px-4 py-2 hover:bg-gray-700">Settings</a>
            </li>
            <li>
              <a href="{{ url_for('logout') }}" class="block px-4 py-2 hover:bg-gray-700">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
